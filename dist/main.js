!function(t){var e={};function s(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=e,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=5)}([function(t,e){t.exports=class{constructor(t,e,s){this.game=t,this.textFrames=100,this.frame=0,this.crit=s,this.yellow,this.black,this.red,this.x=Math.min(Math.max(parseInt(this.game.boss.x+this.game.boss.width/2+Math.floor(Math.random()*(.1*this.game.gameCanvas.clientWidth)+1)),0),.95*this.game.gameCanvas.clientWidth),this.y=Math.min(Math.max(parseInt(this.game.boss.y+this.game.boss.height/4+Math.floor(44*Math.random()+1)),200),400),this.text=e}update(){this.frame+=1,this.y-=1,this.textFrames-=1}draw(){this.update(),this.black=`rgb(0, 0, 0, ${.01*this.textFrames})`,this.crit?(this.red=`rgb(255, 75, 0, ${.01*this.textFrames})`,this.x+=1*Math.round(Math.random())-1,this.game.context.fillStyle=this.red,this.game.context.strokeStyle=this.black,this.game.context.font="24pt Arial Black"):(this.yellow=`rgb(255, 255, 0, ${.03*this.textFrames})`,this.game.context.fillStyle=this.yellow,this.game.context.strokeStyle=this.black,this.game.context.font="15pt Arial Black"),this.game.context.fillText(this.text,this.x,this.y),this.game.context.strokeText(this.text,this.x,this.y)}}},function(t,e,s){const a=s(6),i=s(7),h=s(8),n=s(9),r=s(10),m=s(11),o=s(12),c=s(2),l=s(3),d=(s(13),s(4)),g=s(14),y=s(15),u=s(16),p=(s(17),s(18));t.exports=class{constructor(t){this.options=t,this.context=t.context,this.gameCanvas=t.gameCanvas,this.gameCanvas.setAttribute("tabindex",0);const{partyUI:e}=t;this.level=1,this.monsterBaseHP=1e3,this.damageTexts=[],this.limitBreak=null,this.autoAttackSpeed=1,this.menu=new o(this,t.menu),this.player=new a,this.controls=new m(this),this.draw=this.draw.bind(this),this.drawBackground(t),this.drawParty(e[0],e[1],e[2],e[3]),this.boss=new c(this,t.frontBoss),i.tapMethods({player:this.player,heroA:this.heroA,heroB:this.heroB,heroC:this.heroC,heroD:this.heroD,boss:this.bossLayerC}),this.fps=60,this.now,this.then=Date.now(),this.interval=1e3/this.fps,this.delta}randomBoss(t){let e=Math.floor(3*Math.random()+1);switch(this.level+=1,this.level%5==0&&this.monsterBaseHP,e){case 1:document.getElementById("boss-layer-c-canvas").style.zIndex="5",this.boss=new c(this,t.frontBoss);break;case 2:document.getElementById("boss-layer-c-canvas").style.zIndex="2",this.boss=new l(this,t.frontBoss);break;case 3:document.getElementById("boss-layer-c-canvas").style.zIndex="8",this.boss=new d(this,t.frontBoss)}}initializeBosses(t){this.dongdong=new c(this,t.frontBoss),this.alishar=new l(this,t.frontBoss)}callLimitBreak(t){if(document.getElementById("limit-break-canvas").style.width="768",null===this.limitBreak)switch(t){case"rage":40===this.heroA.limitBreakFrames&&(this.heroA.limitBreakFrames=0,this.limitBreak=new y(this,this.options.limitBreak));break;case"drizzle":40===this.heroB.limitBreakFrames&&(this.heroB.limitBreakFrames=0,this.limitBreak=new g(this,this.options.limitBreak));break;case"omni":40===this.heroC.limitBreakFrames&&(this.heroC.limitBreakFrames=0,this.limitBreak=new u(this,this.options.limitBreak));break;case"sun":40===this.heroD.limitBreakFrames&&(this.heroD.limitBreakFrames=0,this.limitBreak=new p(this,this.options.limitBreak))}}removeLimitBreak(){document.getElementById("limit-break-canvas").style.width="768";let t=this.limitBreak;t=null,this.limitBreak=null}bossDeath(){let t=this.boss;t=null,this.boss=null,this.player.freeCurrency+=1e3*this.level,this.randomBoss(this.options)}drawBackground(t){const e=new Image,s=new Image,a=new Image,i=new Image,n=new Image,m=new Image,o=new Image,c=new Image;e.src="./assets/images/layers/hill.png",s.src="./assets/images/layers/sky_fc.png",a.src="./assets/images/layers/fuji.png",i.src="./assets/images/layers/grassy_mountains_fc.png",n.src="./assets/images/layers/far_mountains_fc.png",m.src="./assets/images/layers/clouds_front_fc.png",o.src="./assets/images/layers/clouds_mid_fc.png",c.src="./assets/images/characters/bosses/mana-beast-idle.png",this.hill=new h(t.hill,e,-8,768,0),this.sky=new h(t.sky,s,-5,768,0),this.fuji=new h(t.fuji,a,24,1468,.1),this.mountains=new h(t.mountains,i,-15,768,.2),this.backgroundMountains=new h(t.backgroundMountains,n,-15,768,.3),this.cloudLayerA=new h(t.frontCloudLayer,m,0,768,.2),this.cloudLayerC=new h(t.backCloudLayer,o,-10,768,.6),this.bossLayerC=new r(t.frontBoss,c,110,768,.2,this.player)}drawParty(t,e,s,a){const i=new Image,h=new Image,r=new Image,m=new Image;i.src="./assets/images/characters/hero/lufia-a-idle.png",h.src="./assets/images/characters/hero/lufia-b-idle.png",r.src="./assets/images/characters/hero/lufia-c-idle.png",m.src="./assets/images/characters/hero/lufia-d-idle.png";const o=new Image,c=new Image,l=new Image,d=new Image;o.src="./assets/images/characters/hero/lufia-a-prep.png",c.src="./assets/images/characters/hero/lufia-b-prep.png",l.src="./assets/images/characters/hero/lufia-c-prep.png",d.src="./assets/images/characters/hero/lufia-d-prep.png";const g=new Image,y=new Image,u=new Image,p=new Image;g.src="./assets/images/characters/hero/lufia-a-attack.png",y.src="./assets/images/characters/hero/lufia-b-attack.png",u.src="./assets/images/characters/hero/lufia-c-attack.png",p.src="./assets/images/characters/hero/lufia-d-attack.png";const f=new Image,I=new Image,b=new Image,w=new Image;f.src="./assets/images/keys/a-down.png",I.src="./assets/images/keys/s-down.png",b.src="./assets/images/keys/d-down.png",w.src="./assets/images/keys/f-down.png";const x=new Image,k=new Image,v=new Image,E=new Image;x.src="./assets/images/keys/a-up.png",k.src="./assets/images/keys/s-up.png",v.src="./assets/images/keys/d-up.png",E.src="./assets/images/keys/f-up.png";const B=new Image,T=new Image,H=new Image,D=new Image;B.src="./assets/images/keys/q.png",T.src="./assets/images/keys/w.png",H.src="./assets/images/keys/e.png",D.src="./assets/images/keys/r.png";let P={context:t,idleImage:i,prepImage:o,attackImage:g,heroKeyDown:f,heroKeyUp:x,heroLimitKey:B,limitPos:70},_={context:e,idleImage:h,prepImage:c,attackImage:y,heroKeyDown:I,heroKeyUp:k,heroLimitKey:T,limitPos:250},F={context:s,idleImage:r,prepImage:l,attackImage:u,heroKeyDown:b,heroKeyUp:v,heroLimitKey:H,limitPos:440},R={context:a,idleImage:m,prepImage:d,attackImage:p,heroKeyDown:w,heroKeyUp:E,heroLimitKey:D,limitPos:650};this.heroA=new n(this,P,180),this.heroB=new n(this,_,120),this.heroC=new n(this,F,60),this.heroD=new n(this,R,0),this.autoAttackFrames=200}draw(){if(requestAnimationFrame(this.draw),this.gameCanvas.focus(),this.now=Date.now(),this.delta=this.now-this.then,this.delta>this.interval){if(this.player.drawTapPower(this.context),this.hill.draw(),this.sky.draw(),this.fuji.draw(),this.cloudLayerA.draw(),this.cloudLayerC.draw(),this.mountains.draw(),this.backgroundMountains.draw(),this.damageTexts.length>0&&this.damageTexts.forEach(t=>{t.draw(),t.textFrames<=0&&(this.damageTexts.shift(),t=null)}),this.heroA.draw("a"),this.heroB.draw("b"),this.heroC.draw("c"),this.heroD.draw("d"),this.boss.draw(),this.limitBreak&&this.limitBreak.draw(),this.menu.open&&this.menu.draw(),this.boss){const t=this.boss.hpPercentage();this.context.strokeStyle="rgba(0, 0, 0, 0.4)",this.context.rect(125,26,550,24),this.context.fillStyle="rgba(222, 0, 0, 0.7)",this.context.stroke(),this.context.fillRect(126,26.5,549.5*t,24),this.context.fillStyle="rgba(0, 0, 0, 0.4)",this.context.stroke(),this.context.fillRect(126+549.5*t,26.5,549.5-549.5*t,24),this.context.font="15px Arial",this.context.fillStyle="white",this.boss.hitPoints>=0?this.context.fillText(`${this.boss.hitPoints} / ${this.boss.maxHitPoints}`,544,47):this.context.fillText(`0 / ${this.boss.maxHitPoints}`,254,47)}this.then=this.now-this.delta%this.interval}}}},function(t,e,s){const a={RUN_RIGHT_WIDTH:393,RUN_RIGHT_HEIGHT:342,RUN_LEFT_WIDTH:609,RUN_LEFT_HEIGHT:485,PHASE_WIDTH:761,PHASE_HEIGHT:1200,DEAD_WIDTH:925,DEAD_HEIGHT:1600},i=s(0);t.exports=class{constructor(t,e){this.maxHitPoints=t.level*t.monsterBaseHP,this.hitPoints=this.maxHitPoints,this.x=500,this.y=-30,this.bossFrames=0,this.canvas=e,this.canvasWidth=768,this.frameRate=5,this.game=t,this.speed=4,this.image=new Image,this.image.src="./assets/images/characters/bosses/dongdong/dong-run-sprite-sheet-left-big.png",this.width=a.RUN_LEFT_WIDTH,this.height=a.RUN_LEFT_HEIGHT,this.phase=1,this.phaseFrames=0,this.step=0,this.frame=0,this.deathStatus=!1,this.deathFrames=400}takeDamage(t){if(this.bossFrames=1,Math.random()>=1-.01*t.critChance){console.log("CRITICAL!"),this.hitPoints-=2*t.attackPower;let e=new i(this.game,2*t.attackPower,!0);this.game.damageTexts.push(e)}else{this.hitPoints-=t.attackPower;let e=new i(this.game,t.attackPower,!1);this.game.damageTexts.push(e)}}takeDamageLimitBreak(t,e){let s;this.hitPoints-=t,Math.random()>=1-.01*e?(console.log("JKLDFSDS"),s=new i(this.game,1.5*t,!0)):s=new i(this.game,t,!1),this.game.damageTexts.push(s)}hpPercentage(){let t=this.hitPoints/this.maxHitPoints;return t>=0?t:0}death(){this.deathStatus=!0,this.game.bossDeath()}update(){this.step+=1,this.step>this.frameRate&&(this.step=0,this.frame+=1),this.frame>9&&(this.frame=0)}deathAnimation(){this.deathFrames-=1,document.getElementById("boss-layer-c-canvas").style.zIndex="6",this.image.src="./assets/images/characters/bosses/dongdong/dong-dong-dead.png",this.frameRate=55,this.width=a.DEAD_WIDTH,this.height=a.DEAD_HEIGHT,this.y=-54,this.deathFrames<=0&&(this.game.bossDeath(),this.deathFrames=0)}shift(){this.hitPoints<=0&&(this.frameRate=0,this.death()),2===this.phase?(this.x>=120&&(this.x-=2),this.y=-200,this.phaseFrames+=1,this.width=a.PHASE_WIDTH,this.height=a.PHASE_HEIGHT,this.image.src="./assets/images/characters/bosses/dongdong/dong-dong-confront.png",document.getElementById("boss-layer-c-canvas").style.zIndex="8",this.phaseFrames>=760?(this.phaseFrames=0,this.phase=0,this.speed=6):this.speed=0):this.x>=this.canvasWidth?(this.width=a.RUN_LEFT_WIDTH,this.height=a.RUN_LEFT_HEIGHT,this.image.src="./assets/images/characters/bosses/dongdong/dong-run-sprite-sheet-left-big.png",document.getElementById("boss-layer-c-canvas").style.zIndex="5",this.y=-40,this.phase+=1,this.speed=-this.speed):this.x<=-this.width&&(this.width=a.RUN_RIGHT_WIDTH,this.height=a.RUN_RIGHT_HEIGHT,this.x=-300,this.y=0,this.speed=-this.speed,this.image.src="./assets/images/characters/bosses/dongdong/dong-run-sprite-sheet-right-hills.png",document.getElementById("boss-layer-c-canvas").style.zIndex="3"),this.x+=-this.speed}draw(){this.update(),this.shift(),this.canvas.clearRect(0,0,800,800),this.canvas.save(),this.canvas.drawImage(this.image,this.width*this.frame,0,this.width,this.height,this.x,this.y,this.width,this.height),this.canvas.restore()}}},function(t,e,s){const a={RIGHT_WIDTH:380,RIGHT_HEIGHT:776,LEFT_WIDTH:528,LEFT_HEIGHT:776,CONFRONT_WIDTH:980,CONFRONT_HEIGHT:1e3},i=s(0);t.exports=class{constructor(t,e){this.maxHitPoints=t.level*t.monsterBaseHP,this.hitPoints=this.maxHitPoints,this.x=100,this.y=-80,this.bossFrames=0,this.canvas=e,this.canvasWidth=768,this.frameRate=4,this.game=t,this.speed=-3,this.image=new Image,this.image.src="./assets/images/characters/bosses/alishar/alishar-right.png",this.width=a.RIGHT_WIDTH,this.height=a.RIGHT_HEIGHT,this.frameUp=!0,this.phase=2,this.phaseFrames=0,this.step=0,this.frame=0,this.deathStatus=!1,this.deathFrames=400}takeDamage(t){if(this.bossFrames=1,Math.random()>=1-.01*t.critChance){console.log("CRITICAL!"),this.hitPoints-=2*t.attackPower;let e=new i(this.game,2*t.attackPower,!0);this.game.damageTexts.push(e)}else{this.hitPoints-=t.attackPower;let e=new i(this.game,t.attackPower,!1);this.game.damageTexts.push(e)}this.hitPoints<=0&&this.death()}takeDamageLimitBreak(t,e){let s;this.hitPoints-=t,Math.random()>=1-.01*e?(console.log("JKLDFSDS"),s=new i(this.game,1.5*t,!0)):s=new i(this.game,t,!1),this.game.damageTexts.push(s)}death(){this.deathStatus=!0,this.game.bossDeath()}update(){this.step+=1,this.frame>6?this.frameUp=!1:0===this.frame&&(this.frameUp=!0),this.step>this.frameRate&&(this.step=0,this.frameUp?this.frame+=1:this.frame-=1)}hpPercentage(){let t=this.hitPoints/this.maxHitPoints;return t>=0?t:0}deathAnimation(){this.deathFrames-=1,document.getElementById("boss-layer-c-canvas").style.zIndex="6",this.image.src="./assets/images/characters/bosses/dongdong/dong-dong-dead.png",this.frameRate=55,this.width=dongDongSizes.DEAD_WIDTH,this.height=dongDongSizes.DEAD_HEIGHT,this.y=-54,0===this.deathFrames&&this.game.bossDeath()}shift(){3===this.phase?(this.x<=-140&&(this.x+=1),this.y=-300,this.phaseFrames+=1,this.width=a.CONFRONT_WIDTH,this.height=a.CONFRONT_HEIGHT,this.image.src="./assets/images/characters/bosses/alishar/alishar-idle.png",document.getElementById("boss-layer-c-canvas").style.zIndex="8",this.phaseFrames>=1160?(this.phaseFrames=0,this.phase=0,this.speed=-3):this.speed=0):this.x>=this.canvasWidth?(this.width=a.LEFT_WIDTH,this.height=a.LEFT_HEIGHT,this.image.src="./assets/images/characters/bosses/alishar/alishar-left.png",document.getElementById("boss-layer-c-canvas").style.zIndex="3",this.y=-150,this.speed=-this.speed):this.x<=-this.width-100&&(this.width=a.RIGHT_WIDTH,this.height=a.RIGHT_HEIGHT,this.x=-300,this.y=-80,this.phase+=1,3===this.phase&&(this.x-=500),this.speed=-this.speed,this.image.src="./assets/images/characters/bosses/alishar/alishar-right.png",document.getElementById("boss-layer-c-canvas").style.zIndex="2"),this.x+=-this.speed}draw(){this.update(),this.shift(),this.canvas.clearRect(0,0,800,800),this.canvas.save(),this.canvas.drawImage(this.image,this.width*this.frame,0,this.width,this.height,this.x,this.y,this.width,this.height),this.canvas.restore()}}},function(t,e,s){const a={RUN_RIGHT_WIDTH:393,RUN_RIGHT_HEIGHT:342,RUN_LEFT_WIDTH:545,RUN_LEFT_HEIGHT:885,PHASE_WIDTH:761,PHASE_HEIGHT:1200,DEAD_WIDTH:925,DEAD_HEIGHT:1600},i=s(0);t.exports=class{constructor(t,e){this.maxHitPoints=t.level*t.monsterBaseHP,this.hitPoints=this.maxHitPoints,this.x=400,this.y=-30,this.bossFrames=0,this.canvas=e,this.canvasWidth=768,this.frameRate=5,this.game=t,this.speed=2,this.image=new Image,this.image.src="./assets/images/characters/bosses/lootbox/lootbox.png",this.width=a.RUN_LEFT_WIDTH,this.height=a.RUN_LEFT_HEIGHT,this.flyUp=!0,this.flySpeed=this.speed,this.shiftValue=this.speed,this.phase=1,this.phaseFrames=0,this.step=0,this.frame=0,this.deathStatus=!1,this.deathFrames=400}takeDamage(t){if(this.bossFrames=1,Math.random()>=1-.01*t.critChance){this.hitPoints-=2*t.attackPower;let e=new i(this.game,2*t.attackPower,!0);this.game.damageTexts.push(e)}else{this.hitPoints-=t.attackPower;let e=new i(this.game,t.attackPower,!1);this.game.damageTexts.push(e)}this.hitPoints<=0&&this.death()}takeDamageLimitBreak(t,e){let s;this.hitPoints-=t,s=Math.random()>=1-.01*e?new i(this.game,1.5*t,!0):new i(this.game,t,!1),this.game.damageTexts.push(s)}hpPercentage(){let t=this.hitPoints/this.maxHitPoints;return t>=0?t:0}death(){this.game.bossDeath(),this.deathStatus=!0,this.game.player.freeCurrency+=4e3}update(){this.step+=1,this.step>this.frameRate&&(this.step=0,this.frame+=1),this.frame>7&&(this.frame=0)}deathAnimation(){this.deathFrames-=1,document.getElementById("boss-layer-c-canvas").style.zIndex="6",this.image.src="./assets/images/characters/bosses/dongdong/dong-dong-dead.png",this.frameRate=55,this.width=a.DEAD_WIDTH,this.height=a.DEAD_HEIGHT,this.y=-54,this.deathFrames<=0&&(this.game.bossDeath(),this.deathFrames=0)}shift(){if(2===this.phase)this.image.src="./assets/images/characters/bosses/lootbox/lootbox-phase.png",this.phaseFrames<=400?(this.x>=160&&(this.x-=1),this.phaseFrames+=1,this.speed=0,this.y-=.5):(this.phase=0,this.speed=2,this.phaseFrames=0);else{let t=this.flySpeed;this.y<=10?this.flyUp=!0:this.y>=85&&(this.flyUp=!1),!0===this.flyUp?this.y+=t:!1===this.flyUp&&(this.y-=t),this.x-=this.speed,this.x>=400?(this.image.src="./assets/images/characters/bosses/lootbox/lootbox.png",this.speed=-this.speed,this.phase+=1):this.x<=-25&&(this.image.src="./assets/images/characters/bosses/lootbox/lootbox-right.png",this.speed=-this.speed)}}draw(){this.update(),this.shift(),this.canvas.clearRect(0,0,800,800),this.canvas.save(),this.canvas.drawImage(this.image,this.width*this.frame,0,this.width,this.height,this.x,this.y,this.width,this.height),this.canvas.restore()}}},function(t,e,s){const a=s(1);document.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("game-canvas"),e=document.getElementById("game-canvas").getContext("2d"),s=document.getElementById("menu-canvas").getContext("2d"),i=document.getElementById("limit-break-canvas").getContext("2d"),h=document.getElementById("hill-canvas").getContext("2d"),n=document.getElementById("sky-canvas").getContext("2d"),r=document.getElementById("fuji-canvas").getContext("2d"),m=document.getElementById("cloud-layer-a-canvas").getContext("2d"),o=document.getElementById("cloud-layer-c-canvas").getContext("2d"),c=document.getElementById("mountains-canvas").getContext("2d"),l=document.getElementById("background-mountains-canvas").getContext("2d"),d=[document.getElementById("party-member-canvas-a").getContext("2d"),document.getElementById("party-member-canvas-b").getContext("2d"),document.getElementById("party-member-canvas-c").getContext("2d"),document.getElementById("party-member-canvas-d").getContext("2d")],g=document.getElementById("boss-layer-c-canvas").getContext("2d");new a({context:e,gameCanvas:t,mountains:c,backgroundMountains:l,frontCloudLayer:m,backCloudLayer:o,hill:h,sky:n,fuji:r,frontBoss:g,partyUI:d,menu:s,limitBreak:i}).draw()}))},function(t,e){t.exports=class{constructor(){this.freeCurrency=0,this.premiumCurrency=0,this.passiveIncome=1,setInterval(()=>this.income(),1e3)}tap(t){}income(){this.freeCurrency+=this.passiveIncome}upgradeIncome(t){this.passiveIncome+=t}addPremiumCurrency(t){this.premiumCurrency+=t}update(t){this.draw(t)}drawTapPower(t){const e=t.canvas.width,s=t.canvas.height;t.clearRect(0,0,e,s);const a=`${this.freeCurrency}`;this.passiveIncome;t.font="15px Arial",t.fillStyle="white",t.fillText(a,30,22);const i=new Image;i.src="./assets/images/misc/gold-coin.png",t.drawImage(i,0,0)}}},function(t,e){const s={tapMethods(t){const e=document.getElementById("party-member-canvas-a"),s=document.getElementById("party-member-canvas-b"),a=document.getElementById("party-member-canvas-c"),i=document.getElementById("party-member-canvas-d"),h=t.player,n=t.heroA,r=t.heroB,m=t.heroC,o=t.heroD,c=t.boss;e.addEventListener("click",t=>{h.tap(n.fetchPower()),n.heroAttackAnimation(),c.takeDamage(n)}),s.addEventListener("click",t=>{h.tap(r.fetchPower()),r.heroAttackAnimation(),c.takeDamage(r)}),a.addEventListener("click",t=>{h.tap(m.fetchPower()),m.heroAttackAnimation(),c.takeDamage(m)}),i.addEventListener("click",t=>{h.tap(o.fetchPower()),o.heroAttackAnimation(),c.takeDamage(o)})}};t.exports=s},function(t,e){t.exports=class{constructor(t,e,s,a,i){this.context=t,this.image=e,this.x=0,this.y=s,this.srcWidth=a,this.speed=i,this.height=this.context.canvas.height,this.width=this.context.canvas.width}draw(){this.context.clearRect(0,0,this.width,this.height),this.context.drawImage(this.image,this.x,this.y),this.context.drawImage(this.image,this.x+this.srcWidth,this.y),this.x<=-this.srcWidth&&(this.x=0),this.x-=this.speed}}},function(t,e){t.exports=class{constructor(t,e,s){this.game=t,this.context=e.context,this.image=e.idleImage,this.height=this.context.canvas.height,this.width=this.context.canvas.width,this.goldCost=1,this.x=0,this.y=0,this.upgradeable=!1,this.heroAttackImage=e.attackImage,this.heroPrepImage=e.prepImage,this.keyDown=e.heroKeyDown,this.keyUp=e.heroKeyUp,this.limitKey=e.heroLimitKey,this.limitPos=e.limitPos,this.attackFrames=0,this.attackSpeed=240,this.attackPower=1,this.critChance=10,this.attackState=!1,this.frames=s,this.step=0,this.autoAttack(),this.frameRate=25,this.stepB=0,this.frameB=0,this.limitBreakFrames=40}changeSprite(){}autoAttack(){}update(){this.frames+=1,this.frames>=this.attackSpeed&&(this.frames=0,this.heroAttackAnimation(),this.game.boss.takeDamage(this))}updateB(){this.stepB+=1,this.stepB>this.frameRate&&(this.stepB=0,this.frameB+=1),this.frameB>1&&(this.frameB=0)}fetchPower(){return this.attackPower}upgradeStr(){this.game.player.freeCurrency>=this.goldCost&&(this.attackPower+=1,this.attackSpeed>=10&&(this.attackSpeed-=1),this.game.player.freeCurrency-=this.goldCost,this.goldCost+=5)}heroAttackAnimation(){this.attackFrames=8,this.attackState=!0,this.limitBreakFrames<40&&(this.limitBreakFrames+=1)}heroIdle(){this.attackState=!1}drawAttackTimer(){this.context.strokeStyle="rgba(0, 0, 0, 0.4)",this.context.rect(70,20,50,10),this.context.fillStyle=`rgba(255, ${this.frames}, 0, 0.7)`,this.context.fillRect(70,20,this.frames/this.attackSpeed*100/2,10),this.context.fillStyle=`rgba(255, ${this.frames}, 0, 0.7)`,this.context.fillRect(70,20,this.frames/this.attackSpeed*100/2,10)}drawLimitBreakTimer(){40===this.limitBreakFrames?(this.context.fillStyle=`rgba(0, ${(this.frames+180)%255+100}, 0, 1)`,this.context.fillRect(130,20,50,10),this.game.cloudLayerA.context.drawImage(this.limitKey,32*this.frameB,0,32,32,this.limitPos,354,66,66)):(this.context.fillStyle="rgba(155, 155, 155, 1)",this.context.fillRect(130,20,50,10),this.context.strokeStyle="rgba(0, 0, 0, 0.4)",this.context.rect(130,20,50,10),this.context.fillStyle=`rgba(171, ${20*this.limitBreakFrames}, 171, 1)`,this.context.fillRect(130,20,this.limitBreakFrames/40*100/2,10))}draw(){this.update(),this.updateB(),this.context.clearRect(0,0,this.width,this.height),this.drawLimitBreakTimer(),this.drawAttackTimer(),1===this.attackFrames&&(document.getElementById("boss-layer-c-canvas").style.filter="brightness(100%)"),0===this.attackFrames?(this.context.drawImage(this.image,this.x,this.y),this.context.drawImage(this.keyUp,14,55),this.attackState=!1):this.attackFrames>0&&(this.drawAttack(),this.attackFrames-=1),this.drawStats()}drawAttack(){this.attackFrames>3?(document.getElementById("boss-layer-c-canvas").style.filter="brightness(120%)",this.context.drawImage(this.heroPrepImage,this.x,this.y),this.context.drawImage(this.keyDown,14,55)):(this.context.drawImage(this.heroAttackImage,this.x,this.y),this.context.drawImage(this.keyDown,14,55))}drawStats(){const t=`ATK ${this.attackPower}`,e=`CRIT ${this.critChance}%`,s=`SPD ${this.attackSpeed/100}`;this.context.font="10px Arial",this.context.fillStyle="white",this.context.fillText("LIMIT",130,15),this.context.fillText("ATK",75,15),this.context.fillText(s,80,65),this.context.fillText(t,130,80),this.context.fillText(e,130,65),this.game.player.freeCurrency>=this.goldCost?this.context.fillStyle="yellow":this.context.fillStyle="red";const a=`COST ${this.goldCost}`;this.context.fillText(a,80,80)}}},function(t,e){t.exports=class{constructor(t,e,s,a,i,h){this.context=t,this.image=e,this.hitPoints=1e3,this.x=0,this.y=s,this.srcWidth=a,this.flyUp=!1,this.bossFrames=0,this.speed=i,this.flySpeed=i,this.height=this.context.canvas.height,this.width=this.context.canvas.width,this.player=h,this.hit=!1,setInterval(()=>this.changeSprite(),400)}takeDamage(t){this.bossFrames=1,Math.random()>=1-.01*t.critChance?this.hitPoints-=2*t.attackPower:this.hitPoints-=t.attackPower,this.hitPoints<=0&&this.death()}takeDamageLimitBreak(t){this.hitPoints-=t}death(){this.hitPoints+=1e3,this.x=200,this.y=60,this.player.freeCurrency+=4e4}changeSprite(){switch(Math.floor(3*Math.random()+1)-1){case 0:return this.image.src="./assets/images/characters/bosses/mana-beast-idle.png";case 1:return this.image.src="./assets/images/characters/bosses/mana-beast-idle2.png";case 2:return this.image.src="./assets/images/characters/bosses/mana-beast-idle3.png"}}shift(){let t=this.flySpeed;this.y<=80?this.flyUp=!0:this.y>=125&&(this.flyUp=!1),!0===this.flyUp?this.y+=t:!1===this.flyUp&&(this.y-=t)}draw(){this.bossFrames>0?(this.image.src="./assets/images/characters/bosses/mana-beast-idle3-damaged.png",this.hit?(this.y+=4,this.hit=!this.hit):(this.y-=4,this.hit=!this.hit),this.bossFrames-=1):(this.shift(),this.x-=this.speed,this.context.clearRect(0,0,this.width,this.height),this.context.drawImage(this.image,this.x,this.y),this.x>=this.srcWidth-350?this.speed=-this.speed:this.x<=-25&&(this.speed=-this.speed));const t=`HP: ${this.hitPoints}`;this.context.font="20px Arial",this.context.fillStyle="red",this.context.strokeStyle="white",this.context.fillText(t,this.x+160,this.y+20),this.context.strokeText(t,this.x+160,this.y+20)}}},function(t,e,s){s(1);const a=s(2),i=s(3),h=s(4);t.exports=class{constructor(t){this.game=t,this.bindKeyHandlers()}bindKeyHandlers(){this.game.gameCanvas.addEventListener("keydown",t=>this.keyboardTap(t)),this.game.gameCanvas.addEventListener("keyup",t=>this.keyboardTapRelease(t))}keyboardTap(t){if(!t.repeat)switch(t.key){case"a":this.game.heroA.heroAttackAnimation(),this.game.boss.takeDamage(this.game.heroA);break;case"s":this.game.heroB.heroAttackAnimation(),this.game.boss.takeDamage(this.game.heroB);break;case"d":this.game.heroC.heroAttackAnimation(),this.game.boss.takeDamage(this.game.heroC);break;case"f":this.game.heroD.heroAttackAnimation(),this.game.boss.takeDamage(this.game.heroD);break;case"h":return this.game.menu.toggleMenu();case"z":return this.game.heroA.upgradeStr();case"x":return this.game.heroB.upgradeStr();case"c":return this.game.heroC.upgradeStr();case"v":return this.game.heroD.upgradeStr();case"g":this.game.heroA.limitBreakFrames=40,this.game.heroB.limitBreakFrames=40,this.game.heroC.limitBreakFrames=40,this.game.heroD.limitBreakFrames=40;break;case"j":document.getElementById("boss-layer-c-canvas").style.zIndex="5",this.game.boss=new a(this.game,this.game.options.frontBoss);break;case"k":return document.getElementById("boss-layer-c-canvas").style.zIndex="2",this.game.boss=new i(this.game,this.game.options.frontBoss);case"l":return document.getElementById("boss-layer-c-canvas").style.zIndex="8",this.game.boss=new h(this.game,this.game.options.frontBoss);case"q":document.getElementById("limit-break-canvas").style.zIndex="9",this.game.callLimitBreak("rage");break;case"w":let t=parseInt(document.getElementById("boss-layer-c-canvas").style.zIndex);document.getElementById("limit-break-canvas").style.zIndex=t,this.game.callLimitBreak("drizzle");break;case"e":document.getElementById("limit-break-canvas").style.zIndex=1544,this.game.callLimitBreak("omni");break;case"r":document.getElementById("limit-break-canvas").style.zIndex=1544,this.game.callLimitBreak("sun")}}keyboardTapRelease(t){switch(t.key){case"a":this.game.heroA.heroIdle();break;case"s":this.game.heroB.heroIdle();break;case"d":this.game.heroC.heroIdle();break;case"f":this.game.heroD.heroIdle()}}}},function(t,e){t.exports=class{constructor(t,e){this.game=t,this.canvas=e,this.open=!1,this.menu=new Image,this.menu.src="./assets/images/ui/menu-blue-big.png"}toggleMenu(){this.open=!this.open,this.open?document.getElementById("menu-canvas").style.zIndex="1001":(this.canvas.clearRect(0,0,888,888),document.getElementById("menu-canvas").style.zIndex="1")}draw(){this.canvas.clearRect(0,0,888,888),this.canvas.font="50px Arial",this.canvas.fillStyle="white",this.canvas.drawImage(this.menu,83,40),this.canvas.fillText("debug",135,250)}}},function(t,e,s){const a={RUN_RIGHT_WIDTH:393,RUN_RIGHT_HEIGHT:342,RUN_LEFT_WIDTH:609,RUN_LEFT_HEIGHT:485,PHASE_WIDTH:761,PHASE_HEIGHT:1200,DEAD_WIDTH:925,DEAD_HEIGHT:1600},i=s(0);t.exports=class{constructor(t,e){this.maxHitPoints=t.level*t.monsterBaseHP,this.hitPoints=this.maxHitPoints,this.x=500,this.y=-30,this.bossFrames=0,this.canvas=e,this.canvasWidth=768,this.frameRate=5,this.game=t,this.speed=4,this.image=new Image,this.image.src="./assets/images/characters/bosses/dongdong/dong-run-sprite-sheet-left-big.png",this.width=a.RUN_LEFT_WIDTH,this.height=a.RUN_LEFT_HEIGHT,this.phase=1,this.phaseFrames=0,this.step=0,this.frame=0,this.deathStatus=!1,this.deathFrames=400}takeDamage(t){if(this.bossFrames=1,Math.random()>=1-.01*t.critChance){console.log("CRITICAL!"),this.hitPoints-=2*t.attackPower;let e=new i(this.game,2*t.attackPower,!0);this.game.damageTexts.push(e)}else{this.hitPoints-=t.attackPower;let e=new i(this.game,t.attackPower,!1);this.game.damageTexts.push(e)}}takeDamageLimitBreak(t,e){let s;this.hitPoints-=t,Math.random()>=1-.01*e?(console.log("JKLDFSDS"),s=new i(this.game,1.5*t,!0)):s=new i(this.game,t,!1),this.game.damageTexts.push(s)}hpPercentage(){let t=this.hitPoints/this.maxHitPoints;return t>=0?t:0}death(){this.deathStatus=!0,this.game.player.freeCurrency+=4e4}update(){this.step+=1,this.step>this.frameRate&&(this.step=0,this.frame+=1),this.frame>9&&(this.frame=0)}deathAnimation(){this.deathFrames-=1,document.getElementById("boss-layer-c-canvas").style.zIndex="6",this.image.src="./assets/images/characters/bosses/dongdong/dong-dong-dead.png",this.frameRate=55,this.width=a.DEAD_WIDTH,this.height=a.DEAD_HEIGHT,this.y=-54,this.deathFrames<=0&&(this.game.bossDeath(),this.deathFrames=0)}shift(){this.deathStatus?(this.y=-54,this.x>=-120?(this.frame=0,document.getElementById("boss-layer-c-canvas").style.zIndex="6",this.image.src="./assets/images/characters/bosses/dongdong/dong-dong-dead.png",this.width=a.DEAD_WIDTH,this.height=a.DEAD_HEIGHT,this.speed=3):(this.speed=0,this.deathAnimation())):2===this.phase?(this.x>=120&&(this.x-=2),this.y=-200,this.phaseFrames+=1,this.width=a.PHASE_WIDTH,this.height=a.PHASE_HEIGHT,this.image.src="./assets/images/characters/bosses/dongdong/dong-dong-confront.png",document.getElementById("boss-layer-c-canvas").style.zIndex="8",this.phaseFrames>=760?(this.phaseFrames=0,this.phase=0,this.speed=6):this.speed=0):this.x>=this.canvasWidth?(this.width=a.RUN_LEFT_WIDTH,this.height=a.RUN_LEFT_HEIGHT,this.image.src="./assets/images/characters/bosses/dongdong/dong-run-sprite-sheet-left-big.png",document.getElementById("boss-layer-c-canvas").style.zIndex="5",this.y=-40,this.phase+=1,this.hitPoints<=0&&(this.frameRate=0,this.death()),this.speed=-this.speed):this.x<=-this.width&&(this.width=a.RUN_RIGHT_WIDTH,this.height=a.RUN_RIGHT_HEIGHT,this.x=-300,this.y=0,this.speed=-this.speed,this.image.src="./assets/images/characters/bosses/dongdong/dong-run-sprite-sheet-right-hills.png",document.getElementById("boss-layer-c-canvas").style.zIndex="3"),this.x+=-this.speed}draw(){this.update(),this.shift(),this.canvas.clearRect(0,0,800,800),this.canvas.save(),this.canvas.drawImage(this.image,this.width*this.frame,0,this.width,this.height,this.x,this.y,this.width,this.height),this.canvas.restore()}}},function(t,e){const s={RIGHT_WIDTH:826,RIGHT_HEIGHT:1346,LEFT_WIDTH:528,LEFT_HEIGHT:776,CONFRONT_WIDTH:980,CONFRONT_HEIGHT:1e3};t.exports=class{constructor(t,e){this.x=0,this.y=-840,this.canvas=e,this.canvasWidth=768,this.frameRate=2,this.game=t,this.image=new Image,this.image.src="./assets/images/limitbreak/beamlimitbreak.png",this.width=s.RIGHT_WIDTH,this.height=s.RIGHT_HEIGHT,this.frameUp=!0,this.phase=0,this.step=0,this.frame=5}takeDamage(t){this.bossFrames=1,Math.random()>=1-.01*t.critChance?this.hitPoints-=2*t.attackPower:this.hitPoints-=t.attackPower,this.hitPoints<=0&&this.death()}death(){this.deathStatus=!0,this.game.bossDeath(),this.game.player.freeCurrency+=4e4}update(){if(this.step+=1,document.getElementById("sky-canvas").style.filter="brightness(20%)",document.getElementById("mountains-canvas").style.filter="brightness(80%)",document.getElementById("background-mountains-canvas").style.filter="brightness(70%)",document.getElementById("fuji-canvas").style.filter="brightness(60%)",this.frame>36&&(3===this.phase?(document.getElementById("sky-canvas").style.filter="brightness(100%)",document.getElementById("mountains-canvas").style.filter="brightness(100%)",document.getElementById("background-mountains-canvas").style.filter="brightness(100%)",document.getElementById("fuji-canvas").style.filter="brightness(100%)",document.getElementById("boss-layer-c-canvas").style.filter="brightness(100%)",this.frame=0,this.canvas.clearRect(0,0,800,800),this.game.removeLimitBreak()):(this.frame=12,this.phase+=1)),this.frame>=14&&(this.frame%2==0?document.getElementById("boss-layer-c-canvas").style.filter="brightness(300%)":document.getElementById("boss-layer-c-canvas").style.filter="brightness(100%)"),this.step>this.frameRate&&(this.frame+=1,this.step=0),this.frame>=17&&this.frame<=36){this.game.boss.takeDamageLimitBreak(1.5*this.game.heroB.attackPower,this.game.heroB.critChance)}}draw(){this.canvas.clearRect(0,0,800,800),this.canvas.save(),this.canvas.drawImage(this.image,this.width*this.frame,0,this.width,this.height,this.x,this.y,this.width,this.height),this.canvas.restore(),this.update()}}},function(t,e){const s={CONFRONT_WIDTH:1084,CONFRONT_HEIGHT:885};t.exports=class{constructor(t,e){this.x=-180,this.y=-340,this.canvas=e,this.canvasWidth=768,this.frameRate=2,this.game=t,this.image=new Image,this.image.src="./assets/images/limitbreak/rage.png",this.width=s.CONFRONT_WIDTH,this.height=s.CONFRONT_HEIGHT,this.frameUp=!0,this.step=0,this.frame=5,this.phase=0}takeDamage(t){this.bossFrames=1,Math.random()>=1-.01*t.critChance?this.hitPoints-=2*t.attackPower:this.hitPoints-=t.attackPower,this.hitPoints<=0&&this.death()}death(){this.deathStatus=!0,this.game.bossDeath(),this.game.player.freeCurrency+=4e4}update(){if(this.step+=1,document.getElementById("sky-canvas").style.filter="brightness(170%)",document.getElementById("mountains-canvas").style.filter="brightness(180%)",document.getElementById("background-mountains-canvas").style.filter="brightness(180%)",document.getElementById("fuji-canvas").style.filter="brightness(170%)",document.getElementById("cloud-layer-c-canvas").style.filter="brightness(151%)",this.frame>28?4===this.phase?(document.getElementById("sky-canvas").style.filter="brightness(100%)",document.getElementById("mountains-canvas").style.filter="brightness(100%)",document.getElementById("background-mountains-canvas").style.filter="brightness(100%)",document.getElementById("fuji-canvas").style.filter="brightness(100%)",document.getElementById("boss-layer-c-canvas").style.filter="brightness(100%)",document.getElementById("cloud-layer-c-canvas").style.filter="brightness(100%)",this.frame=0,this.canvas.clearRect(0,0,800,800),document.getElementById("limit-break-canvas").style.filter="blur(0px)",this.game.removeLimitBreak()):(this.frame=12,this.phase+=1):this.step>this.frameRate&&(this.frame+=1,this.step=0),this.frame>=14&&(this.frame%2==0?document.getElementById("boss-layer-c-canvas").style.filter="brightness(300%)":document.getElementById("boss-layer-c-canvas").style.filter="brightness(100%)",this.frame>=17&&this.frame<=20)){this.game.boss.takeDamageLimitBreak(6*this.game.heroA.attackPower,this.game.heroA.critChance)}}draw(){this.canvas.clearRect(0,0,800,800),this.canvas.save(),this.canvas.drawImage(this.image,this.width*this.frame,0,this.width,this.height,this.x,this.y,this.width,this.height),this.canvas.restore(),this.update()}}},function(t,e){const s={CONFRONT_WIDTH:864,CONFRONT_HEIGHT:666};t.exports=class{constructor(t,e){this.x=-100,this.y=-30,this.canvas=e,this.canvasWidth=768,this.frameRate=1,this.game=t,this.image=new Image,this.image.src="./assets/images/limitbreak/omnibag.png",this.canvasList=["game-canvas","menu-canvas","hill-canvas","sky-canvas","fuji-canvas","cloud-layer-a-canvas","cloud-layer-c-canvas","boss-layer-c-canvas","mountains-canvas","background-mountains-canvas"],this.width=s.CONFRONT_WIDTH,this.height=s.CONFRONT_HEIGHT,this.frameUp=!0,this.step=0,this.frame=0,this.phase=0,this.downPhase=20,this.canvasList.forEach(t=>{document.getElementById(t).style.transition="all 0.8s"}),document.getElementById("boss-layer-c-canvas").style.transition="all 0.8s"}takeDamage(t){this.bossFrames=1,Math.random()>=1-.01*t.critChance?this.hitPoints-=2*t.attackPower:this.hitPoints-=t.attackPower,this.hitPoints<=0&&this.death()}death(){this.deathStatus=!0,this.game.bossDeath(),this.game.player.freeCurrency+=4e4}update(){if(this.step+=1,this.canvasList.forEach(t=>{document.getElementById(t).style.width="50%",document.getElementById(t).style.top="100px",document.getElementById(t).style.filter="blur(2px)",document.getElementById(t).style.opacity="0.8"}),this.frame>14?8===this.phase?(document.getElementById("sky-canvas").style.filter="brightness(100%)",document.getElementById("mountains-canvas").style.filter="brightness(100%)",document.getElementById("background-mountains-canvas").style.filter="brightness(100%)",document.getElementById("fuji-canvas").style.filter="brightness(100%)",document.getElementById("boss-layer-c-canvas").style.filter="brightness(100%)",document.getElementById("cloud-layer-c-canvas").style.filter="brightness(100%)",this.canvasList.forEach(t=>{document.getElementById(t).style.width="100%",document.getElementById(t).style.top="0px",document.getElementById(t).style.opacity="1",document.getElementById(t).style.filter="blur(0px)"}),document.getElementById("boss-layer-c-canvas").style.transition="all 0s",document.getElementById("game-canvas").style.top="-1px",this.frame=0,this.canvas.clearRect(0,0,800,800),document.getElementById("limit-break-canvas").style.filter="blur(0px)",this.game.removeLimitBreak()):(this.frame=3,this.phase+=1):this.step>this.frameRate&&(this.frame+=1,this.step=0),this.frame>=8&&(this.frame%2==0?(document.getElementById("boss-layer-c-canvas").style.filter="brightness(300%)",this.canvasList.forEach(t=>{document.getElementById(t).style.width="70%",this.canvasList.forEach(t=>{document.getElementById(t).style.filter="brightness(129%)"})})):(document.getElementById("boss-layer-c-canvas").style.filter="brightness(100%)",this.canvasList.forEach(t=>{document.getElementById(t).style.width="50%",this.canvasList.forEach(t=>{document.getElementById(t).style.filter="brightness(59%)"})})),this.frame>=8&&this.frame<=14)){this.game.boss.takeDamageLimitBreak(3*this.game.heroC.attackPower,this.game.heroC.critChance)}}draw(){this.canvas.clearRect(0,0,800,800),this.canvas.save(),this.canvas.drawImage(this.image,this.width*this.frame,0,this.width,this.height,this.x,this.y,this.width,this.height),this.canvas.restore(),this.update()}}},function(t,e){const s={CONFRONT_WIDTH:600,CONFRONT_HEIGHT:885};t.exports=class{constructor(t,e){this.x=70,this.y=110,this.canvas=e,this.canvasWidth=768,this.frameRate=4,this.game=t,this.image=new Image,this.image.src="./assets/images/limitbreak/greenteasun.png",this.width=s.CONFRONT_WIDTH,this.height=s.CONFRONT_HEIGHT,this.frameUp=!0,this.step=0,this.frame=5,this.phase=0,this.frameUp=!0}takeDamage(t){this.bossFrames=1,Math.random()>=1-.01*t.critChance?this.hitPoints-=2*t.attackPower:this.hitPoints-=t.attackPower,this.hitPoints<=0&&this.death()}death(){this.deathStatus=!0,this.game.bossDeath(),this.game.player.freeCurrency+=4e4}update(){this.step+=1,document.getElementById("sky-canvas").style.filter="brightness(30%)",document.getElementById("mountains-canvas").style.filter="brightness(30%)",document.getElementById("background-mountains-canvas").style.filter="brightness(30%)",document.getElementById("fuji-canvas").style.filter="brightness(30%)",document.getElementById("hill-canvas").style.filter="brightness(30%)",document.getElementById("cloud-layer-c-canvas").style.filter="brightness(30%)",document.getElementById("sky-canvas").style.filter="blur(7px)",document.getElementById("mountains-canvas").style.filter="blur(7px)",document.getElementById("cloud-layer-a-canvas").style.filter="blur(7px)",document.getElementById("background-mountains-canvas").style.filter="blur(7px)",document.getElementById("fuji-canvas").style.filter="blur(7px)",this.frame>6?this.frameUp=!1:0===this.frame&&(this.frameUp=!0),this.frame>6?7===this.phase?(document.getElementById("sky-canvas").style.filter="brightness(100%)",document.getElementById("mountains-canvas").style.filter="brightness(100%)",document.getElementById("background-mountains-canvas").style.filter="brightness(100%)",document.getElementById("fuji-canvas").style.filter="brightness(100%)",document.getElementById("boss-layer-c-canvas").style.filter="brightness(100%)",document.getElementById("cloud-layer-a-canvas").style.filter="brightness(100%)",document.getElementById("cloud-layer-c-canvas").style.filter="brightness(100%)",document.getElementById("hill-canvas").style.filter="brightness(100%)",this.frame=0,this.game.autoAttackSpeed=1,this.canvas.clearRect(0,0,800,800),document.getElementById("limit-break-canvas").style.filter="blur(0px)",this.game.removeLimitBreak()):(this.frame=1,this.phase+=1):this.step>this.frameRate&&(this.step=0,this.frameUp?this.frame+=1:this.frame-=1),this.frame>=6&&(this.frame%2==0?document.getElementById("boss-layer-c-canvas").style.filter="brightness(300%)":document.getElementById("boss-layer-c-canvas").style.filter="brightness(100%)",this.frame>=0&&this.frame<=6&&(this.game.autoAttackSpeed=25))}draw(){this.canvas.clearRect(0,0,800,800),this.canvas.save(),this.canvas.drawImage(this.image,this.width*this.frame,0,this.width,this.height,this.x,this.y,this.width,this.height),this.canvas.restore(),this.update()}}},function(t,e){const s={CONFRONT_WIDTH:894,CONFRONT_HEIGHT:885};t.exports=class{constructor(t,e){this.x=0,this.y=10,this.canvas=e,this.canvasWidth=768,this.frameRate=4,this.game=t,this.image=new Image,this.image.src="./assets/images/limitbreak/teapaw3.png",this.width=s.CONFRONT_WIDTH,this.height=s.CONFRONT_HEIGHT,this.frameUp=!0,this.step=0,this.frame=0,this.phase=0,this.frameUp=!0}takeDamage(t){this.bossFrames=1,Math.random()>=1-.01*t.critChance?this.hitPoints-=2*t.attackPower:this.hitPoints-=t.attackPower,this.hitPoints<=0&&this.death()}death(){this.deathStatus=!0,this.game.bossDeath(),this.game.player.freeCurrency+=4e4}update(){if(this.step+=1,document.getElementById("sky-canvas").style.filter="brightness(30%)",document.getElementById("mountains-canvas").style.filter="brightness(30%)",document.getElementById("background-mountains-canvas").style.filter="brightness(30%)",document.getElementById("fuji-canvas").style.filter="brightness(30%)",document.getElementById("hill-canvas").style.filter="brightness(30%)",document.getElementById("cloud-layer-c-canvas").style.filter="brightness(30%)",document.getElementById("sky-canvas").style.filter="blur(7px)",document.getElementById("mountains-canvas").style.filter="blur(7px)",document.getElementById("cloud-layer-a-canvas").style.filter="blur(7px)",document.getElementById("background-mountains-canvas").style.filter="blur(7px)",document.getElementById("fuji-canvas").style.filter="blur(7px)",this.frame>10?this.frameUp=!1:0===this.frame&&(this.frameUp=!0),this.frame>10?4===this.phase?(document.getElementById("sky-canvas").style.filter="brightness(100%)",document.getElementById("mountains-canvas").style.filter="brightness(100%)",document.getElementById("background-mountains-canvas").style.filter="brightness(100%)",document.getElementById("fuji-canvas").style.filter="brightness(100%)",document.getElementById("boss-layer-c-canvas").style.filter="brightness(100%)",document.getElementById("cloud-layer-a-canvas").style.filter="brightness(100%)",document.getElementById("cloud-layer-c-canvas").style.filter="brightness(100%)",document.getElementById("hill-canvas").style.filter="brightness(100%)",this.frame=0,this.game.autoAttackSpeed=1,this.canvas.clearRect(0,0,800,800),document.getElementById("limit-break-canvas").style.filter="blur(0px)",this.game.removeLimitBreak()):(this.frame=1,this.phase+=1):this.step>this.frameRate&&(this.step=0,this.frameUp?this.frame+=1:this.frame-=1),this.frame>=0&&(this.frame%2==0?document.getElementById("boss-layer-c-canvas").style.filter="brightness(300%)":document.getElementById("boss-layer-c-canvas").style.filter="brightness(100%)",this.frame>=0&&this.frame<=11)){this.game.boss.takeDamageLimitBreak(1.5*this.game.heroD.attackPower,this.game.heroB.critChance)}}draw(){this.canvas.clearRect(0,0,800,800),this.canvas.save(),this.canvas.drawImage(this.image,this.width*this.frame,0,this.width,this.height,this.x,this.y,this.width,this.height),this.canvas.restore(),this.update()}}}]);